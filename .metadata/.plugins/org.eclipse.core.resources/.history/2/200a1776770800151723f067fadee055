package de.tudarmstadt.informatik.tk.assistanceplatform.services.messaging;

import java.util.HashMap;
import java.util.Map;

public abstract class MessagingService {
	private Map<String, Channel> channels = new HashMap<>();
	
	public MessagingService() {
		
	}
	
	protected Channel channel(String name) {
		Channel result = channels.get(name);
		
		if(result == null) {
			Channel newChannel = new Channel(name);
			channels.put(name, newChannel);
			result = newChannel;
		}
		
		return result;
	}
	
	protected abstract void subscribeConsumerToChannel(Consumer consumer, Channel channel);
	
	protected abstract void unsubscribeConsumerFromChannel(Consumer consumer, Channel channel);
	
	protected abstract void publish(Channel channel, Object data);
}