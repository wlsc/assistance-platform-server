import java.io.IOException;

import de.tudarmstadt.informatik.tk.assistanceplatform.data.GeographicPosition;
import de.tudarmstadt.informatik.tk.assistanceplatform.modules.hotplaces.HotPlacesBundle;
import de.tudarmstadt.informatik.tk.assistanceplatform.services.messaging.MessagingService;
import de.tudarmstadt.informatik.tk.assistanceplatform.services.messaging.MessagingService.Channel;
import de.tudarmstadt.informatik.tk.assistanceplatform.services.messaging.dummy.DummyMessagingService;


public class HotPlacesMain {
	public static void main (String[] args) {
		MessagingService ms = new DummyMessagingService();
		HotPlacesBundle bundle = new HotPlacesBundle(ms);
		
		Channel c = ms.channel(GeographicPosition.class.getSimpleName());

		long start = System.currentTimeMillis();
		for(int i = 0; i < 10000; i++) {
			long timestamp = i;
			//timestamp = 0;
			long uid = (long) (Math.random() * Integer.MAX_VALUE);
			//long uid = 0;
			double lat = 10 + (10 - Math.random() * 2);
			double lon = 10 + (10 - Math.random() * 2);
			
			GeographicPosition pos = new GeographicPosition(lat, lon, uid, timestamp);
			
			c.publish(new GeographicPosition(lat, lon, uid, timestamp));
		}
		
		try {
			System.in.read();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}